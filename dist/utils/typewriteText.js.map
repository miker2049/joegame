{"version":3,"sources":["../../src/utils/typewriteText.ts"],"names":["text","twindow","scene","speed","Promise","done","reject","readChars","char","appendMDText","then","v","undefined","str","basedelay","cb","length","i","timeout","ms","resolve","setTimeout"],"mappings":";;;;;;;;;;;;;AACA;;AAEe,kBAASA,IAAT,EAAuBC,OAAvB,EAA0CC,KAA1C,EAA+DC,KAA/D,EAAmG;AAC9G,SAAO,IAAIC,OAAJ,CAAY,UAACC,IAAD,EAAOC,MAAP,EAAkB;AACjCC,IAAAA,SAAS,CAACP,IAAD,EAAOG,KAAP,aAAOA,KAAP,cAAOA,KAAP,GAAgB,EAAhB,EAAoB,UAACK,IAAD,EAAkB;AAAEP,MAAAA,OAAO,CAACQ,YAAR,CAAqBD,IAArB;AAA4B,KAApE,CAAT,CAA+EE,IAA/E,CAAoF,UAAAC,CAAC;AAAA,aAAIN,IAAI,CAACO,SAAD,CAAR;AAAA,KAArF;AACH,GAFM,CAAP;AAGH;;SAEcL,S;;;;;uFAAf,iBAAyBM,GAAzB,EAAsCC,SAAtC,EAAyDC,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AACUC,YAAAA,MADV,GACmBH,GAAG,CAACG,MADvB;AAEaC,YAAAA,CAFb,GAEiB,CAFjB;;AAAA;AAAA,kBAEoBA,CAAC,GAAGD,MAFxB;AAAA;AAAA;AAAA;;AAGcR,YAAAA,IAHd,GAGqBK,GAAG,CAACI,CAAD,CAHxB;AAIQF,YAAAA,EAAE,CAACP,IAAD,CAAF;;AAJR,kBAKYA,IAAI,IAAI,GALpB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAMkBU,OAAO,CAACJ,SAAS,GAAG,GAAb,CANzB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAQkBI,OAAO,CAACJ,SAAD,CARzB;;AAAA;AAEgC,cAAEG,CAFlC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAcA,SAASC,OAAT,CAAiBC,EAAjB,EAAqB;AACjB,SAAO,IAAIf,OAAJ,CAAY,UAAAgB,OAAO;AAAA,WAAIC,UAAU,CAACD,OAAD,EAAUD,EAAV,CAAd;AAAA,GAAnB,CAAP;AACH","sourcesContent":["import { ITextBox } from '../components/TextWindow'\nimport 'phaser'\n\nexport default function(text: string, twindow: ITextBox, scene: Phaser.Scene, speed?: number): Promise<undefined> {\n    return new Promise((done, reject) => {\n        readChars(text, speed ?? 20, (char: string) => { twindow.appendMDText(char) }).then(v => done(undefined))\n    })\n}\n\nasync function readChars(str: string, basedelay: number, cb: (T: string) => void) {\n    const length = str.length\n    for (let i = 0; i < length; ++i) {\n        const char = str[i]\n        cb(char)\n        if (char == ' ') {\n            await timeout(basedelay * 1.7)\n        } else {\n            await timeout(basedelay)\n        }\n    }\n\n}\n\nfunction timeout(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms))\n}\n"],"file":"typewriteText.js"}
{"version":3,"sources":["../../src/factories/createLevelPhysics.ts"],"names":["level","scene","physics","world","addCollider","npcs","npc1","npc2","machineRegisty","sendTo","name","type","sprite","player","dir","body","touching","map","layers","forEach","l","tilemapLayer"],"mappings":";;;;;;;;;AACA;;AAGe,kBAASA,KAAT,EAAuC;AAClDA,EAAAA,KAAK,CAACC,KAAN,CAAYC,OAAZ,CAAoBC,KAApB,CAA0BC,WAA1B,CAAsCJ,KAAK,CAACK,IAA5C,EAAiDL,KAAK,CAACK,IAAvD,EAA4D,UAACC,IAAD,EAAMC,IAAN,EAAa;AACrEP,IAAAA,KAAK,CAACQ,cAAN,CAAqBC,MAArB,CAA4BH,IAAI,CAACI,IAAL,GAAU,UAAtC,EAAiD;AAACC,MAAAA,IAAI,EAAC,MAAN;AAAcC,MAAAA,MAAM,EAAEL;AAAtB,KAAjD;AACAP,IAAAA,KAAK,CAACQ,cAAN,CAAqBC,MAArB,CAA4BF,IAAI,CAACG,IAAL,GAAU,UAAtC,EAAiD;AAACC,MAAAA,IAAI,EAAC,MAAN;AAAcC,MAAAA,MAAM,EAAEN;AAAtB,KAAjD;AACH,GAHD;;AAIA,MAAIN,KAAK,CAACa,MAAV,EAAkB;AACdb,IAAAA,KAAK,CAACC,KAAN,CAAYC,OAAZ,CAAoBC,KAApB,CAA0BC,WAA1B,CAAsCJ,KAAK,CAACa,MAA5C,EAAmDb,KAAK,CAACK,IAAzD,EAA8D,UAACC,IAAD,EAAMC,IAAN,EAAa;AACvEP,MAAAA,KAAK,CAACQ,cAAN,CAAqBC,MAArB,CAA4B,gBAA5B,EAA6C;AAACE,QAAAA,IAAI,EAAC,MAAN;AAAcG,QAAAA,GAAG,EAAE,yBAAWP,IAAI,CAACQ,IAAL,CAAUC,QAArB;AAAnB,OAA7C;AACAhB,MAAAA,KAAK,CAACQ,cAAN,CAAqBC,MAArB,CAA4BF,IAAI,CAACG,IAAL,GAAU,UAAtC,EAAiD;AAACC,QAAAA,IAAI,EAAC,MAAN;AAAcC,QAAAA,MAAM,EAAEN;AAAtB,OAAjD;AACH,KAHD;AAIH;;AAEDN,EAAAA,KAAK,CAACiB,GAAN,CAAUC,MAAV,CAAiBC,OAAjB,CAAyB,UAACC,CAAD,EAAO;AAC5BpB,IAAAA,KAAK,CAACC,KAAN,CAAYC,OAAZ,CAAoBC,KAApB,CAA0BC,WAA1B,CAAsCgB,CAAC,CAACC,YAAxC,EAAsDrB,KAAK,CAACK,IAA5D,EAAkE,UAACC,IAAD,EAAOC,IAAP,EAAgB;AAC9EP,MAAAA,KAAK,CAACQ,cAAN,CAAqBC,MAArB,CAA4BH,IAAI,CAACI,IAAL,GAAY,UAAxC,EAAoD;AAAEC,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,MAAM,EAAEL;AAAxB,OAApD;AACAP,MAAAA,KAAK,CAACQ,cAAN,CAAqBC,MAArB,CAA4BF,IAAI,CAACG,IAAL,GAAY,UAAxC,EAAoD;AAAEC,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,MAAM,EAAEN;AAAxB,OAApD;AACH,KAHD;;AAIA,QAAIN,KAAK,CAACa,MAAV,EAAkB;AACdb,MAAAA,KAAK,CAACC,KAAN,CAAYC,OAAZ,CAAoBC,KAApB,CAA0BC,WAA1B,CAAsCgB,CAAC,CAACC,YAAxC,EAAsDrB,KAAK,CAACa,MAA5D,EAAoE,UAACP,IAAD,EAAOC,IAAP,EAAgB;AAChFP,QAAAA,KAAK,CAACQ,cAAN,CAAqBC,MAArB,CAA4BH,IAAI,CAACI,IAAL,GAAY,UAAxC,EAAoD;AAAEC,UAAAA,IAAI,EAAE,MAAR;AAAgBC,UAAAA,MAAM,EAAEL;AAAxB,SAApD;AACAP,QAAAA,KAAK,CAACQ,cAAN,CAAqBC,MAArB,CAA4B,gBAA5B,EAA8C;AAAEE,UAAAA,IAAI,EAAE,MAAR;AAAgBC,UAAAA,MAAM,EAAEN;AAAxB,SAA9C;AACH,OAHD;AAIH;AAEJ,GAZD;AAcH","sourcesContent":["import {ILevelComponents} from '../ILevel'\nimport touchToDir from '../utils/touchToDir'\n\n\nexport default function(level: ILevelComponents): void{\n    level.scene.physics.world.addCollider(level.npcs,level.npcs,(npc1,npc2)=>{\n        level.machineRegisty.sendTo(npc1.name+'_machine',{type:'BUMP', sprite: npc2})\n        level.machineRegisty.sendTo(npc2.name+'_machine',{type:'BUMP', sprite: npc1})\n    })\n    if (level.player) {\n        level.scene.physics.world.addCollider(level.player,level.npcs,(npc1,npc2)=>{\n            level.machineRegisty.sendTo('player_machine',{type:'BUMP', dir: touchToDir(npc2.body.touching)})\n            level.machineRegisty.sendTo(npc2.name+'_machine',{type:'BUMP', sprite: npc1})\n        })\n    }\n\n    level.map.layers.forEach((l) => {\n        level.scene.physics.world.addCollider(l.tilemapLayer, level.npcs, (npc1, npc2) => {\n            level.machineRegisty.sendTo(npc1.name + '_machine', { type: 'BUMP', sprite: npc2 })\n            level.machineRegisty.sendTo(npc2.name + '_machine', { type: 'BUMP', sprite: npc1 })\n        })\n        if (level.player) {\n            level.scene.physics.world.addCollider(l.tilemapLayer, level.player, (npc1, npc2) => {\n                level.machineRegisty.sendTo(npc1.name + '_machine', { type: 'BUMP', sprite: npc2 })\n                level.machineRegisty.sendTo('player_machine', { type: 'BUMP', sprite: npc1 })\n            })\n        }\n\n    })\n\n}\n"],"file":"createLevelPhysics.js"}
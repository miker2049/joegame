{"version":3,"sources":["../../src/components/Door.ts"],"names":["Door","scenemap","x","y","t_obj","setTexture","joegameData","DoorTexture","setDisplaySize","tiledWidth","tiledHeight","scene","events","addListener","name","openDoor","physics","add","existing","obj","collider","console","log","undefined","tweens","targets","scaleY","from","to","duration","repeat","onComplete","destroy","body","height","scaleX","width","MapObject"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;;;;;IAGqBA,I;;;;;AACjB,gBAAYC,QAAZ,EAA+BC,CAA/B,EAA0CC,CAA1C,EAAqDC,KAArD,EAAiG;AAAA;;AAAA;AAC7F,8BAAMH,QAAN,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,KAAtB;;AACA,UAAKC,UAAL,CAAgBC,yBAAYC,WAA5B;;AACA,UAAKC,cAAL,CAAoB,MAAKC,UAAzB,EAAqC,MAAKC,WAA1C;;AACA,UAAKC,KAAL,CAAWC,MAAX,CAAkBC,WAAlB,gBAAsCT,KAAK,CAACU,IAA5C,GAAmD,YAAI;AAAC,YAAKC,QAAL;AAAgB,KAAxE;;AACA,UAAKJ,KAAL,CAAWK,OAAX,CAAmBC,GAAnB,CAAuBC,QAAvB,8CAAsC,IAAtC;;AAL6F;AAMhG;;;;WAED,qBAAYC,GAAZ,EAA8C;AAC1C,WAAKR,KAAL,CAAWK,OAAX,CAAmBC,GAAnB,CAAuBG,QAAvB,CAAgC,IAAhC,EAAqCD,GAArC,EAAyC,YAAI;AAACE,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAAuB,OAArE,EAAsEC,SAAtE,EAAgF,KAAKZ,KAArF;AACH;;;WAED,oBAAU;AAAA;;AACN,UAAI,KAAKF,UAAL,GAAkB,KAAKC,WAA3B,EAAwC;AAAE;AACtC,aAAKC,KAAL,CAAWa,MAAX,CAAkBP,GAAlB,CAAsB;AAClBQ,UAAAA,OAAO,EAAE,IADS;AAElBC,UAAAA,MAAM,EAAE;AAAEC,YAAAA,IAAI,EAAE,KAAKD,MAAb;AAAqBE,YAAAA,EAAE,EAAE;AAAzB,WAFU;AAGlBC,UAAAA,QAAQ,EAAE,IAHQ;AAIlBC,UAAAA,MAAM,EAAC,CAJW;AAKlBC,UAAAA,UAAU,EAAE,sBAAM;AAAC,YAAA,MAAI,CAACC,OAAL,CAAa,IAAb;AAAmB;AALpB,SAAtB;AAOA,aAAKrB,KAAL,CAAWa,MAAX,CAAkBP,GAAlB,CAAsB;AAClBQ,UAAAA,OAAO,EAAE,KAAKQ,IADI;AAElBC,UAAAA,MAAM,EAAE;AAAEP,YAAAA,IAAI,EAAE,KAAKM,IAAL,CAAUC,MAAlB;AAA0BN,YAAAA,EAAE,EAAE;AAA9B,WAFU;AAGlBC,UAAAA,QAAQ,EAAE,IAHQ;AAIlBC,UAAAA,MAAM,EAAC;AAJW,SAAtB;AAMH,OAdD,MAcO;AACH,aAAKnB,KAAL,CAAWa,MAAX,CAAkBP,GAAlB,CAAsB;AAClBQ,UAAAA,OAAO,EAAE,IADS;AAElBU,UAAAA,MAAM,EAAE;AAAER,YAAAA,IAAI,EAAE,KAAKQ,MAAb;AAAqBP,YAAAA,EAAE,EAAE;AAAzB,WAFU;AAGlBC,UAAAA,QAAQ,EAAE,IAHQ;AAIlBC,UAAAA,MAAM,EAAC,CAJW;AAKlBC,UAAAA,UAAU,EAAE,sBAAM;AAAC,YAAA,MAAI,CAACC,OAAL,CAAa,IAAb;AAAmB;AALpB,SAAtB;AAOA,aAAKrB,KAAL,CAAWa,MAAX,CAAkBP,GAAlB,CAAsB;AAClBQ,UAAAA,OAAO,EAAE,KAAKQ,IADI;AAElBG,UAAAA,KAAK,EAAE;AAAET,YAAAA,IAAI,EAAE,KAAKM,IAAL,CAAUG,KAAlB;AAAyBR,YAAAA,EAAE,EAAE;AAA7B,WAFW;AAGlBC,UAAAA,QAAQ,EAAE,IAHQ;AAIlBC,UAAAA,MAAM,EAAC;AAJW,SAAtB;AAMH;AACJ;;;EA3C6BO,mB","sourcesContent":["import 'phaser';\nimport './SceneMap';\nimport BaseScene from './BaseScene';\nimport MapObject from './MapObject';\nimport { joegameData } from './joegameData';\nimport SceneMap from './SceneMap';\n\nexport default class Door extends MapObject {\n    constructor(scenemap: SceneMap,x: number, y: number, t_obj: Phaser.Types.Tilemaps.TiledObject  ) {\n        super(scenemap, x, y, t_obj);\n        this.setTexture(joegameData.DoorTexture);\n        this.setDisplaySize(this.tiledWidth, this.tiledHeight);\n        this.scene.events.addListener(`open_${t_obj.name}`,()=>{this.openDoor()});\n        this.scene.physics.add.existing(this, true);\n    }\n\n    collideWith(obj:Phaser.GameObjects.GameObject){\n        this.scene.physics.add.collider(this,obj,()=>{console.log(\"hieeeee\")},undefined,this.scene);\n    }\n\n    openDoor(){\n        if (this.tiledWidth < this.tiledHeight) { //then its a door opening vertically\n            this.scene.tweens.add({\n                targets: this,\n                scaleY: { from: this.scaleY, to: 0 },\n                duration: 2010,\n                repeat:0,\n                onComplete: () => {this.destroy(true)}\n            });\n            this.scene.tweens.add({\n                targets: this.body,\n                height: { from: this.body.height, to: 1 },\n                duration: 2000,\n                repeat:0,\n            });\n        } else {\n            this.scene.tweens.add({\n                targets: this,\n                scaleX: { from: this.scaleX, to: 0 },\n                duration: 2010,\n                repeat:0,\n                onComplete: () => {this.destroy(true)}\n            });\n            this.scene.tweens.add({\n                targets: this.body,\n                width: { from: this.body.width, to: 1 },\n                duration: 2000,\n                repeat:0,\n            });\n        }\n    }\n}\n"],"file":"Door.js"}
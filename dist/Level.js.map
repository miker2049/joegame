{"version":3,"sources":["../src/Level.ts"],"names":["Level","game","mapjsonpath","key","scene","add","Phaser","Scene","npcs","physics","group","platforms","map","pathfinder","machineRegistry","MachineRegistry","toner","Toner","sound","context"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AAGA;;IAEaA,K,GAWT,eAAYC,IAAZ,EAA+BC,WAA/B,EAAqD;AAAA;AACjD,OAAKC,GAAL,GAAWD,WAAW,GAAGA,WAAH,GAAiB,OAAvC;AACA,OAAKE,KAAL,GAAaH,IAAI,CAACG,KAAL,CAAWC,GAAX,CAAe,kCAAgB,KAAKF,GAArB,CAAf,EAA0C,IAAIG,MAAM,CAACC,KAAX,CAAiB,kCAAgB,KAAKJ,GAArB,CAAjB,CAA1C,EAAuF,IAAvF,CAAb;AACA,OAAKK,IAAL,GAAY,KAAKJ,KAAL,CAAWK,OAAX,CAAmBJ,GAAnB,CAAuBK,KAAvB,EAAZ;AACA,OAAKC,SAAL,GAAiB,KAAKP,KAAL,CAAWK,OAAX,CAAmBJ,GAAnB,CAAuBK,KAAvB,EAAjB;AACA,OAAKE,GAAL,GAAW,4BAAc,KAAKR,KAAnB,EAA0B,KAAKD,GAA/B,CAAX;AACA,OAAKU,UAAL,GAAkB,+BAAiB,KAAKD,GAAtB,CAAlB;AACA,OAAKE,eAAL,GAAuB,IAAIC,gCAAJ,EAAvB;AACA,OAAKC,KAAL,GAAa,IAAIC,cAAJ,CAAWhB,IAAI,CAACiB,KAAN,CAAkDC,OAA5D,CAAb;AACH,C","sourcesContent":["import { getSceneKeyName, getDialogueKeyName } from './utils/getKeyNames'\nimport { ICharacter } from './ICharacter'\nimport createTilemap from './factories/createTilemap'\nimport createPathfinder from './factories/createPathfinder'\nimport { IMachineRegistry, MachineRegistry } from './components/MachineRegistry'\nimport DialogueReader from './components/DialogueReader'\nimport { ILevelComponents, IPathfinder } from './ILevel'\nimport Toner from './sound/Toner'\n\nexport class Level implements ILevelComponents {\n    map: Phaser.Tilemaps.Tilemap\n    player?: ICharacter\n    pathfinder: IPathfinder\n    npcs: Phaser.Physics.Arcade.Group\n    platforms: Phaser.Physics.Arcade.Group\n    scene: Phaser.Scene\n    machineRegistry: IMachineRegistry\n    toner: Toner\n    key: string\n\n    constructor(game: Phaser.Game, mapjsonpath?: string) {\n        this.key = mapjsonpath ? mapjsonpath : 'empty'\n        this.scene = game.scene.add(getSceneKeyName(this.key), new Phaser.Scene(getSceneKeyName(this.key)), true)\n        this.npcs = this.scene.physics.add.group()\n        this.platforms = this.scene.physics.add.group()\n        this.map = createTilemap(this.scene, this.key)\n        this.pathfinder = createPathfinder(this.map)\n        this.machineRegistry = new MachineRegistry()\n        this.toner = new Toner((game.sound as Phaser.Sound.WebAudioSoundManager).context)\n    }\n}\n"],"file":"Level.js"}
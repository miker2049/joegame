{"version":3,"sources":["../src/GameMachine.ts"],"names":["GameMachineOptions","actions","services","createGame","context","_event","facade","initGame","loadMapJson","loadMapJSON","game","currentMap","loadMapAssets","loadAssets","guards","activities","delays"],"mappings":";;AAAA;;AAwBA,IAAMA,kBAA2D,GAAG;AAChEC,EAAAA,OAAO,EAAC,EADwD;AAGhEC,EAAAA,QAAQ,EAAC;AACLC,IAAAA,UAAU,EAAC,oBAACC,OAAD,EAAUC,MAAV;AAAA,aAAmBD,OAAO,CAACE,MAAR,CAAeC,QAAf,EAAnB;AAAA,KADN;AAELC,IAAAA,WAAW,EAAC,qBAACJ,OAAD,EAAUC,MAAV;AAAA,aAAmBD,OAAO,CAACE,MAAR,CAAeG,WAAf,CAA2BL,OAAO,CAACM,IAAnC,EAAwCN,OAAO,CAACO,UAAhD,CAAnB;AAAA,KAFP;AAGLC,IAAAA,aAAa,EAAC,uBAACR,OAAD,EAAUC,MAAV;AAAA,aAAmBD,OAAO,CAACE,MAAR,CAAeO,UAAf,CAA0BT,OAAO,CAACM,IAAlC,EAAuCN,OAAO,CAACO,UAA/C,CAAnB;AAAA;AAHT,GAHuD;AAShEG,EAAAA,MAAM,EAAC,EATyD;AAUhEC,EAAAA,UAAU,EAAC,EAVqD;AAWhEC,EAAAA,MAAM,EAAC;AAXyD,CAApE","sourcesContent":["import 'phaser'\nimport { Machine, MachineConfig, MachineOptions, assign } from 'xstate';\nimport IjoegameFacade from './IjoegameFacade';\ninterface GameMachineContext {\n    game: Phaser.Game\n    currentMap: 'string'\n    facade: IjoegameFacade\n}\ninterface GameMachineStateSchema {\n    states: {\n        initializing: {\n            states: {\n                creatingGame:{}\n                loadingMapJSON:{}\n                loadingAssets:{}\n            }\n        }\n        inMenu: {}\n        gameplay:{}\n        inWiki: {}\n        inDialogue: {}\n    }\n}\n\nconst GameMachineOptions: MachineOptions<GameMachineContext, any> = {\n    actions:{\n    },\n    services:{\n        createGame:(context, _event)=>context.facade.initGame(),\n        loadMapJson:(context, _event)=>context.facade.loadMapJSON(context.game,context.currentMap),\n        loadMapAssets:(context, _event)=>context.facade.loadAssets(context.game,context.currentMap)\n\n    },\n    guards:{},\n    activities:{},\n    delays:{}\n}\n"],"file":"GameMachine.js"}